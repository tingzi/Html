<html>
<body>
<script type="text/javascript">
var xmlHttp=null;
if (window.XMLHttpRequest)
{// code for IE7, Firefox, Opera, etc.
    xmlHttp=new XMLHttpRequest();
    alert('XMLHttpRequest');
}
else if (window.ActiveXObject)
{// code for IE6, IE5
    xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
    alert('Microsoft.XMLHTTP');
}

if (xmlHttp!=null)
{
    setInterval(function() {
	alert('send heart beat');
        xmlHttp.onreadystatechange=state_Change;
	xmlHttp.open("GET", "http://127.0.0.1:9000/heartbeat", true);
	xmlHttp.send(null);
    }, 5000);
}
else
 {
  alert("Your browser does not support XMLHTTP.");
 }

function state_Change()
{
if (xmlHttp.readyState==4)
  {// 4 = "loaded"
	alert("loaded!");
  if (xmlHttp.status==200)
    {// 200 = "OK"
    	alert("Ok!");
    }
  else
    {
    alert("Problem retrieving data:" + xmlhttp.statusText);
    }
  }
}
</script>
</body>
</html>
